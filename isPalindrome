using System;

public class Palindrome
{
    public static bool isPalindrome(string str)
    {
  
        int left = 0, right = str.Length-1;
        
        while(left<right)
        {
            while(left<right && !(char.IsLetterOrDigit(str[left])))
                left++;
                
            while(left<right && !char.IsLetterOrDigit(str[right]))
                right--;
                
            if(char.ToLower(str[left]) != char.ToLower(str[right]))
                return false;
                
            left++;
            right--;
        }
        return true;
    }
    
    public static void Main(string[] args)
    {
        string str = "A man, a plan, a canal: Panama";
        Console.WriteLine(str);
        bool flag = isPalindrome(str);
        Console.WriteLine(flag);
    }
}
